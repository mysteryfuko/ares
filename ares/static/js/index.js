function selectTab(a,b,c,d){d=d||0;var e,f,g;for(f=document.getElementsByClassName("tabcontent"),e=0;e<f.length;e++)f[e].style.display="none";for(g=document.getElementsByClassName("tab"),e=0;e<g.length;e++)g[e].className=g[e].className.replace(" active","");document.getElementById(b).style.display="block",a&&(a.currentTarget.className+=" active"),get_data(c,d,b)}function get_data(a,b){var e,h;b?("score"==a&&$("#dkpTable").DataTable({pageLength:50,retrieve:!0,order:[[2,"desc"]],ajax:{url:"ajax/dkp",dataSrc:"data",data:{belong:b}},columns:[{data:"name"},{data:"class"},{data:"dkp"}],columnDefs:[{render:function(a,b,c){return"DRUID"==c["class"]?"德鲁伊":"HUNTER"==c["class"]?"猎人":"WARRIOR"==c["class"]?"战士":"ROGUE"==c["class"]?"盗贼":"MAGE"==c["class"]?"法师":"PRIEST"==c["class"]?"牧师":"WARLOCK"==c["class"]?"术士":"PALADIN"==c["class"]?"圣骑士":void 0},targets:1},{render:function(a,b,c){return'<a href="PlayerDetail\\'+c["name"]+'" style="color: black">'+c["name"]+"</a>"},targets:0}],fnRowCallback:function(a,b){$("td:eq(0)",a).attr("class",b["class"])}}),"loot"==a&&(e=$("#dkplogsTable").DataTable({pageLength:50,retrieve:!0,order:[[0,"desc"]],ajax:{url:"ajax/dkploot",dataSrc:"data",data:{belong:b}},columns:[{data:"time"},{data:"name"},{data:"class"},{data:"dkp"},{data:""}],columnDefs:[{render:function(a,b,c){return'<a href="https://cn.classic.wowhead.com/item='+c["item"]+'/" class="icontinyl q4" data-wh-icon-added="true" ><span></span></a>'},targets:4},{render:function(a,b,c){return"DRUID"==c["class"]?"德鲁伊":"HUNTER"==c["class"]?"猎人":"WARRIOR"==c["class"]?"战士":"ROGUE"==c["class"]?"盗贼":"MAGE"==c["class"]?"法师":"PRIEST"==c["class"]?"牧师":"WARLOCK"==c["class"]?"术士":"PALADIN"==c["class"]?"圣骑士":void 0},targets:2}],fnRowCallback:function(a,b){$("td:eq(1)",a).attr("class",b["class"])}}),e.on("draw",function(){refreshLink()})),"add"==a&&$("#dkplogsTable1").DataTable({retrieve:!0,pageLength:50,order:[[3,"desc"]],ajax:{url:"ajax/dkpadd",dataSrc:"data",data:{belong:b}},columns:[{data:"boss"},{data:"dkp"},{data:"player"},{data:"time"}],columnDefs:[{render:function(a,b,c){return'<a href="kill\\'+c["id"]+'" style="color: black">'+c["boss"]+"</a>"},targets:0}]})):("score"==a&&$("#epgpTable").DataTable({pageLength:50,retrieve:!0,order:[[4,"desc"]],ajax:"ajax/epgp",columns:[{data:"name"},{data:"class"},{data:"ep"},{data:"gp"},{data:""}],columnDefs:[{render:function(a,b,c){return(parseFloat(c["ep"])/(parseFloat(c["gp"])+300)).toFixed(3)},targets:4},{render:function(a,b,c){return'<a href="PlayerDetail\\'+c["name"]+'" style="color: black">'+c["name"]+"</a>"},targets:0},{render:function(a,b,c){return"DRUID"==c["class"]?"德鲁伊":"HUNTER"==c["class"]?"猎人":"WARRIOR"==c["class"]?"战士":"ROGUE"==c["class"]?"盗贼":"MAGE"==c["class"]?"法师":"PRIEST"==c["class"]?"牧师":"WARLOCK"==c["class"]?"术士":"PALADIN"==c["class"]?"圣骑士":void 0},targets:1}],fnRowCallback:function(a,b){$("td:eq(0)",a).attr("class",b["class"])}}),"loot"==a&&(h=$("#EpgplogsTable").DataTable({pageLength:50,retrieve:!0,order:[[0,"desc"]],ajax:"ajax/epgploot",columns:[{data:"time"},{data:"name"},{data:"class"},{data:"gp"},{data:""}],columnDefs:[{render:function(a,b,c){return'<a href="https://cn.classic.wowhead.com/item='+c["item"]+'/" class="icontinyl q4" data-wh-icon-added="true" ><span></span></a>'},targets:4},{render:function(a,b,c){return"DRUID"==c["class"]?"德鲁伊":"HUNTER"==c["class"]?"猎人":"WARRIOR"==c["class"]?"战士":"ROGUE"==c["class"]?"盗贼":"MAGE"==c["class"]?"法师":"PRIEST"==c["class"]?"牧师":"WARLOCK"==c["class"]?"术士":"PALADIN"==c["class"]?"圣骑士":void 0},targets:2}],fnRowCallback:function(a,b){$("td:eq(1)",a).attr("class",b["class"])}}),h.on("draw",function(){refreshLink()})),"add"==a&&$("#epgplogsTable1").DataTable({pageLength:50,retrieve:!0,order:[[3,"desc"]],ajax:"ajax/epgpaddlog",columns:[{data:"boss"},{data:"ep"},{data:"player"},{data:"time"}],columnDefs:[{render:function(a,b,c){return'<a href="kill\\'+c["id"]+'" style="color: black">'+c["boss"]+"</a>"},targets:0},{render:function(a,b,c){return c["ep"]?"+"+c["ep"]:c["boss"]},targets:1}]}))}function refreshLink(){"undefined"==typeof $WowheadPower?$.getScript("//wow.zamimg.com/widgets/power.js"):$WowheadPower.refreshLinks()}$(document).ready(function(){selectTab(null,"EpgpTab","score"),$("#TabEPGP").show(),$("#EPGP").addClass("active"),$("#TabEPGP>button:eq(0)").addClass("active"),$("#TabDKP").hide(),$("#EPGP").mouseover(function(){for(tablinks=$(".tablinks"),i=0;i<tablinks.length;i++)tablinks[i].className=tablinks[i].className.replace(" active","");$("#TabEPGP").show(),$(this).addClass("active"),$("#TabDKP").hide()}),$(".dkp").mouseover(function(){var a,b;for(tablinks=$(".tablinks"),i=0;i<tablinks.length;i++)tablinks[i].className=tablinks[i].className.replace(" active","");$(this).addClass("active"),$("#TabEPGP").hide(),$("#TabDKP").show(),a=$(this).attr("id"),b=$(this).text(),$(".score").html(b+"分数"),$(".score").attr("onclick","selectTab(event, 'DkpTab','score','"+a+"')"),$(".add").html(b+"加分记录"),$(".add").attr("onclick","selectTab(event, 'DkpAddTab','add','"+a+"')"),$(".loot").html(b+"拾取记录"),$(".loot").attr("onclick","selectTab(event, 'DkpLootTab','loot','"+a+"')")})});